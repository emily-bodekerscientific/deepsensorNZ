# ------------------------------------------
# VARIABLE
# ------------------------------------------

# Variable to be downscaled (temperature or precipitation)
variable:
  arg: temperature 
  type: str

base:
  arg: wrf
  type: str
  
# Model name, if 'default' it will be the time
model_name:
  arg: wrf_pretrained_era5
  type: str

# ------------------------------------------
# TRAINING HYPERPARAMETERS
# ------------------------------------------

# Number of epochs
n_epochs:
  arg: 100
  type: int
  
# Learning rate
lr:
  arg: 1e-5
  type: float

# Pretrained model path
pretrained_model:
  arg: hourly_1e-5_v2_copy  
  type: str_or_none

pretrained_processor:
  arg: True
  type: bool

# Weight decay
weight_decay:
  arg: 0
  type: float
  
# Batch training
batch:
  arg: False  
  type: bool

# Batch size for training, only used if batch=True
batch_size:
  arg: 4  
  type: int
  
# ------------------------------------------
# TRAINING PERIOD
# ------------------------------------------

# Training start forecast initialisation
start_init:
  arg: 2023090100
  type: int

# Training end initialisation (inclusive)
end_init:
  arg: 2023113012
  type: int

# Train/validate using every nth time interval 
time_intervals:
  arg: 1
  type: int
  
# ------------------------------------------
# VALIDATION PERIOD
# ------------------------------------------

# Validation start initialisation
val_start_init:
  # arg: 2000
  arg: 2023120100
  type: int

# Validation end initialisation (inclusive)
val_end_init:
  # arg: 2011
  arg: 2023123111
  # arg: 2003
  type: int

  
# ------------------------------------------
# MODEL RESOLUTION
# ------------------------------------------

# Coarsen factor for high resolution topography
topography_highres_coarsen_factor:
  arg: 5  
  type: int

# Coarsen factor for low resolution topography
topography_lowres_coarsen_factor:
  arg: 4
  type: int


# ------------------------------------------
# INPUT VARIABLES
# ------------------------------------------

# Include time of year
include_time_of_year:
  arg: True  
  type: bool

# Include landmask
include_landmask:
  arg: True  
  type: bool

# Context variables
context_variables: 
  arg: ['temperature',
        'precipitation',
        '10m_u_component_of_wind',
        '10m_v_component_of_wind',
        'surface_pressure',
        'surface_solar_radiation_downwards',
        ]
  type: list
  
# Station as context
# If True, all stations are included as context variables
# If False, no stations are included as context variables
# If float, the percentage of stations to include as context variables
# If random, a random number of stations are included as context variables
station_as_context:
  arg: random
  type: bool_or_float_or_str
  
  
# ------------------------------------------
# SPATIAL DETAILS
# ------------------------------------------

# Area 
# Select area of map, options specified in: PLOT_EXTENT in nzdownscale.dataprocess.config.py. 
# PLOT_EXTENT['all'] (all of NZ) is used as default
area:
  arg: None  
  type: str_or_none

# Remove stations
# List of station names to remove from the dataset
remove_stations:
  arg: ["TAUPO AWS",
    "CHRISTCHURCH AERO",
    "KAITAIA AERO",
    "MT COOK EWS",
    "AUCKLAND AERO",
    "ALEXANDRA AWS",
    "TOLAGA BAY WXT AWS",
    "WELLINGTON AERO",
    "BLENHEIM AERO",
    "DUNEDIN AERO AWS",
    ]  
  type: list

# ------------------------------------------
# NEURAL PROCESS PARAMETERS
# ------------------------------------------

# Channels for UNet
unet_channels:
  arg: None  
  type: int_or_none

# Likelihood
likelihood:
  arg: None  
  type: str_or_none

# Internal density
internal_density:
  arg: 250
  type: int

# Auto set internal density
auto_set_internal_density:
  arg: False  
  type: bool






